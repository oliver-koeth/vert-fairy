[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 1; @symbol_usingdef<0> = [Toybox,1,6,12]; @symbol_usingdef<1> = [Math,1,13,17]; @symbol_usingAlias = [Math,1,21,25]; ]
using Toybox.Math as :Math;
[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 2; @symbol_usingdef<0> = [Toybox,2,6,12]; @symbol_usingdef<1> = [Test,2,13,17]; @symbol_usingAlias = [Test,2,21,25]; ]
using Toybox.Test as :Test;
[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 4; @symbol_usingdef<0> = [RawStep,4,6,13]; ]
using RawStep;
[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 6; @symbol_moduledef = [RawStepTests,6,7,19]; ]
module RawStepTests {
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 6; ]
    <init> {
    }
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 7; @symbol_classdef = [StepDetectorTest,7,10,26]; @symbol_extends<0> = [Test,7,35,39]; @symbol_extends<1> = [TestCase,7,40,48]; ]
    class StepDetectorTest extends Test.TestCase {
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 7; ]
        <init> {
        }
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 7; ]
        static
        <init> {
        }
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 8; @symbol_functiondef = [initialize,8,17,27]; ]
        function initialize() as Void {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_8_30_10_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 9 12 ]
            symbol [ Test %tmp.1 9 12 16 ];
            %tmp.1 = getm $.Toybox.Test;
            symbol [ TestCase %tmp.2 9 17 25 ];
            %tmp.2 = getv %tmp.1 :TestCase;
            symbol [ initialize %tmp.3 9 26 36 ];
            %tmp.3 = getv function %tmp.2 :initialize;
            invoke %tmp.2 %tmp.3();
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_8_30_10_8_stop:
        }
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 12; @symbol_functiondef = [testStationaryNoise,12,17,36]; ]
        function testStationaryNoise() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_12_39_17_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 13 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_12_39_17_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_12_39_17_8_stop" ]
            %detector.1 = local;
            symbol [ detector %detector.1 13 16 24 ];
            symbol [ RawStep %tmp.3 13 31 38 ];
            %tmp.3 = getm $.RawStep;
            symbol [ StepDetector %tmp.4 13 39 51 ];
            %tmp.4 = getv function ? %tmp.3 :StepDetector;
            %tmp.5 = newd 1;
            %tmp.7 = const :samplePeriodMs;
            symbol [ samplePeriodMs %tmp.7 13 55 69 const ];
            %tmp.8 = 40;
            %tmp.9 = dup %tmp.5;
            %tmp.10 = aputv %tmp.9 %tmp.7 %tmp.8;
            %tmp.1 = newc %tmp.4 (%tmp.10);
            lputv %detector.1 %tmp.1;
            symbol [ detector %detector.1 13 16 24 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 14 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_12_39_17_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_12_39_17_8_stop" ]
            %samples.2 = local;
            symbol [ samples %samples.2 14 16 23 ];
            %tmp.11 = self;
            symbol [ _generateNoiseSamples %tmp.12 14 26 47 ];
            %tmp.12 = getv function %tmp.11 :_generateNoiseSamples;
            %tmp.13 = 400;
            %tmp.14 = 40;
            %tmp.15 = invoke %tmp.11 %tmp.12(%tmp.13, %tmp.14);
            lputv %samples.2 %tmp.15;
            symbol [ samples %samples.2 14 16 23 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 15 12 ]
            %tmp.16 = lgetv %detector.1;
            symbol [ detector %tmp.16 15 12 20 ];
            symbol [ addSamples %tmp.17 15 21 31 ];
            %tmp.17 = getv function %tmp.16 :addSamples;
            %tmp.18 = lgetv %samples.2;
            symbol [ samples %tmp.18 15 32 39 ];
            invoke %tmp.16 %tmp.17(%tmp.18);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 16 12 ]
            symbol [ Test %tmp.19 16 12 16 ];
            %tmp.19 = getm $.Toybox.Test;
            symbol [ assertEqual %tmp.20 16 17 28 ];
            %tmp.20 = getv function %tmp.19 :assertEqual;
            %tmp.21 = 0;
            %tmp.22 = lgetv %detector.1;
            symbol [ detector %tmp.22 16 32 40 ];
            symbol [ getStepCount %tmp.23 16 41 53 ];
            %tmp.23 = getv function %tmp.22 :getStepCount;
            %tmp.24 = invoke %tmp.22 %tmp.23();
            invoke %tmp.19 %tmp.20(%tmp.21, %tmp.24);
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_12_39_17_8_stop:
        }
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 19; @symbol_functiondef = [testSimpleSteps,19,17,32]; ]
        function testSimpleSteps() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_19_35_24_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 20 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_19_35_24_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_19_35_24_8_stop" ]
            %detector.1 = local;
            symbol [ detector %detector.1 20 16 24 ];
            symbol [ RawStep %tmp.3 20 31 38 ];
            %tmp.3 = getm $.RawStep;
            symbol [ StepDetector %tmp.4 20 39 51 ];
            %tmp.4 = getv function ? %tmp.3 :StepDetector;
            %tmp.5 = newd 1;
            %tmp.7 = const :samplePeriodMs;
            symbol [ samplePeriodMs %tmp.7 20 55 69 const ];
            %tmp.8 = 40;
            %tmp.9 = dup %tmp.5;
            %tmp.10 = aputv %tmp.9 %tmp.7 %tmp.8;
            %tmp.1 = newc %tmp.4 (%tmp.10);
            lputv %detector.1 %tmp.1;
            symbol [ detector %detector.1 20 16 24 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 21 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_19_35_24_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_19_35_24_8_stop" ]
            %samples.2 = local;
            symbol [ samples %samples.2 21 16 23 ];
            %tmp.11 = self;
            symbol [ _generateStepWave %tmp.12 21 26 43 ];
            %tmp.12 = getv function %tmp.11 :_generateStepWave;
            %tmp.13 = 10;
            %tmp.14 = 12;
            %tmp.15 = 1.6;
            %tmp.16 = invoke %tmp.11 %tmp.12(%tmp.13, %tmp.14, %tmp.15);
            lputv %samples.2 %tmp.16;
            symbol [ samples %samples.2 21 16 23 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 22 12 ]
            %tmp.17 = lgetv %detector.1;
            symbol [ detector %tmp.17 22 12 20 ];
            symbol [ addSamples %tmp.18 22 21 31 ];
            %tmp.18 = getv function %tmp.17 :addSamples;
            %tmp.19 = lgetv %samples.2;
            symbol [ samples %tmp.19 22 32 39 ];
            invoke %tmp.17 %tmp.18(%tmp.19);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 23 12 ]
            symbol [ Test %tmp.20 23 12 16 ];
            %tmp.20 = getm $.Toybox.Test;
            symbol [ assertEqual %tmp.21 23 17 28 ];
            %tmp.21 = getv function %tmp.20 :assertEqual;
            %tmp.22 = 10;
            %tmp.23 = lgetv %detector.1;
            symbol [ detector %tmp.23 23 33 41 ];
            symbol [ getStepCount %tmp.24 23 42 54 ];
            %tmp.24 = getv function %tmp.23 :getStepCount;
            %tmp.25 = invoke %tmp.23 %tmp.24();
            invoke %tmp.20 %tmp.21(%tmp.22, %tmp.25);
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_19_35_24_8_stop:
        }
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 26; @symbol_functiondef = [testRefractoryPreventsDoubleCount,26,17,50]; ]
        function testRefractoryPreventsDoubleCount() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_26_53_37_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 27 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_26_53_37_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_26_53_37_8_stop" ]
            %detector.1 = local;
            symbol [ detector %detector.1 27 16 24 ];
            symbol [ RawStep %tmp.3 27 31 38 ];
            %tmp.3 = getm $.RawStep;
            symbol [ StepDetector %tmp.4 27 39 51 ];
            %tmp.4 = getv function ? %tmp.3 :StepDetector;
            %tmp.5 = newd 1;
            %tmp.7 = const :samplePeriodMs;
            symbol [ samplePeriodMs %tmp.7 27 55 69 const ];
            %tmp.8 = 40;
            %tmp.9 = dup %tmp.5;
            %tmp.10 = aputv %tmp.9 %tmp.7 %tmp.8;
            %tmp.1 = newc %tmp.4 (%tmp.10);
            lputv %detector.1 %tmp.1;
            symbol [ detector %detector.1 27 16 24 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 28 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_26_53_37_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_26_53_37_8_stop" ]
            %samples.2 = local;
            symbol [ samples %samples.2 28 16 23 ];
            %tmp.11 = newa 0;
            lputv %samples.2 %tmp.11;
            symbol [ samples %samples.2 28 16 23 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 29 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_26_53_37_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_26_53_37_8_stop" ]
            %timestamp.3 = local;
            symbol [ timestamp %timestamp.3 29 16 25 ];
            %tmp.12 = 0;
            lputv %timestamp.3 %tmp.12;
            symbol [ timestamp %timestamp.3 29 16 25 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 30 12 ]
            for @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_test @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_incr @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_init:
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_begin" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_end" ]
            %i.4 = local;
            symbol [ i %i.4 30 21 22 ];
            %tmp.13 = 0;
            lputv %i.4 %tmp.13;
            symbol [ i %i.4 30 21 22 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_test:
            %tmp.14 = lgetv %i.4;
            symbol [ i %tmp.14 30 28 29 ];
            %tmp.15 = 2;
            %tmp.16 = lt %tmp.14 %tmp.15;
            bf %tmp.16 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_begin:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_43_34_12_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 31 16 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_43_34_12_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_43_34_12_stop" ]
            %magnitude.5 = local;
            symbol [ magnitude %magnitude.5 31 20 29 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_begin:
            %tmp.17 = lgetv %i.4;
            symbol [ i %tmp.17 31 33 34 ];
            %tmp.18 = 0;
            %tmp.19 = eq %tmp.17 %tmp.18;
            bf %tmp.19 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_else_false;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_true:
            %tmp.20 = 2.5;
            push %tmp.20;
            goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_else_false:
            %tmp.21 = 2.2;
            push %tmp.21;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_end:
            %tmp.22 = phi [%tmp.19 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_begin] [%tmp.20 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_true] [%tmp.21 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_else_false] [%tmp.22 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_31_32_31_49_end];
            lputv %magnitude.5 %tmp.22;
            symbol [ magnitude %magnitude.5 31 20 29 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 32 16 ]
            %tmp.23 = lgetv %samples.2;
            symbol [ samples %tmp.23 32 16 23 ];
            symbol [ add %tmp.24 32 24 27 ];
            %tmp.24 = getv function %tmp.23 :add;
            %tmp.25 = newd 4;
            %tmp.27 = const :x;
            symbol [ x %tmp.27 32 31 32 const ];
            %tmp.28 = 0;
            %tmp.29 = dup %tmp.25;
            %tmp.30 = aputv %tmp.29 %tmp.27 %tmp.28;
            %tmp.32 = const :y;
            symbol [ y %tmp.32 32 40 41 const ];
            %tmp.33 = 0;
            %tmp.34 = dup %tmp.30;
            %tmp.35 = aputv %tmp.34 %tmp.32 %tmp.33;
            %tmp.37 = const :z;
            symbol [ z %tmp.37 32 49 50 const ];
            %tmp.38 = 9.8;
            %tmp.39 = lgetv %magnitude.5;
            symbol [ magnitude %tmp.39 32 60 69 ];
            %tmp.40 = add %tmp.38 %tmp.39;
            %tmp.41 = dup %tmp.35;
            %tmp.42 = aputv %tmp.41 %tmp.37 %tmp.40;
            %tmp.44 = const :timestamp;
            symbol [ timestamp %tmp.44 32 72 81 const ];
            %tmp.45 = lgetv %timestamp.3;
            symbol [ timestamp %tmp.45 32 85 94 ];
            %tmp.46 = dup %tmp.42;
            %tmp.47 = aputv %tmp.46 %tmp.44 %tmp.45;
            invoke %tmp.23 %tmp.24(%tmp.47);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 33 16 ]
            %tmp.48 = lgetv %timestamp.3;
            symbol [ timestamp %tmp.48 33 16 25 ];
            %tmp.49 = 60;
            %tmp.50 = add %tmp.48 %tmp.49;
            lputv %timestamp.3 %tmp.50;
            symbol [ timestamp %timestamp.3 33 16 25 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_43_34_12_stop:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_incr:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 30 ]
            %tmp.51 = lgetv %i.4;
            symbol [ i %tmp.51 30 35 36 ];
            %tmp.52 = 1;
            %tmp.53 = add %tmp.51 %tmp.52;
            lputv %i.4 %tmp.53;
            symbol [ i %i.4 30 35 36 ];
            goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_test;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_30_12_34_12_for_end:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 35 12 ]
            %tmp.54 = lgetv %detector.1;
            symbol [ detector %tmp.54 35 12 20 ];
            symbol [ addSamples %tmp.55 35 21 31 ];
            %tmp.55 = getv function %tmp.54 :addSamples;
            %tmp.56 = lgetv %samples.2;
            symbol [ samples %tmp.56 35 32 39 ];
            invoke %tmp.54 %tmp.55(%tmp.56);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 36 12 ]
            symbol [ Test %tmp.57 36 12 16 ];
            %tmp.57 = getm $.Toybox.Test;
            symbol [ assertEqual %tmp.58 36 17 28 ];
            %tmp.58 = getv function %tmp.57 :assertEqual;
            %tmp.59 = 1;
            %tmp.60 = lgetv %detector.1;
            symbol [ detector %tmp.60 36 32 40 ];
            symbol [ getStepCount %tmp.61 36 41 53 ];
            %tmp.61 = getv function %tmp.60 :getStepCount;
            %tmp.62 = invoke %tmp.60 %tmp.61();
            invoke %tmp.57 %tmp.58(%tmp.59, %tmp.62);
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_26_53_37_8_stop:
        }
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 39; @symbol_functiondef = [testDistanceComputation,39,17,40]; ]
        function testDistanceComputation() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 40 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_stop" ]
            %detector.1 = local;
            symbol [ detector %detector.1 40 16 24 ];
            symbol [ RawStep %tmp.3 40 31 38 ];
            %tmp.3 = getm $.RawStep;
            symbol [ StepDetector %tmp.4 40 39 51 ];
            %tmp.4 = getv function ? %tmp.3 :StepDetector;
            %tmp.5 = newd 1;
            %tmp.7 = const :samplePeriodMs;
            symbol [ samplePeriodMs %tmp.7 40 55 69 const ];
            %tmp.8 = 40;
            %tmp.9 = dup %tmp.5;
            %tmp.10 = aputv %tmp.9 %tmp.7 %tmp.8;
            %tmp.1 = newc %tmp.4 (%tmp.10);
            lputv %detector.1 %tmp.1;
            symbol [ detector %detector.1 40 16 24 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 41 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_stop" ]
            %samples.2 = local;
            symbol [ samples %samples.2 41 16 23 ];
            %tmp.11 = self;
            symbol [ _generateStepWave %tmp.12 41 26 43 ];
            %tmp.12 = getv function %tmp.11 :_generateStepWave;
            %tmp.13 = 6;
            %tmp.14 = 12;
            %tmp.15 = 1.8;
            %tmp.16 = invoke %tmp.11 %tmp.12(%tmp.13, %tmp.14, %tmp.15);
            lputv %samples.2 %tmp.16;
            symbol [ samples %samples.2 41 16 23 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 42 12 ]
            %tmp.17 = lgetv %detector.1;
            symbol [ detector %tmp.17 42 12 20 ];
            symbol [ addSamples %tmp.18 42 21 31 ];
            %tmp.18 = getv function %tmp.17 :addSamples;
            %tmp.19 = lgetv %samples.2;
            symbol [ samples %tmp.19 42 32 39 ];
            invoke %tmp.17 %tmp.18(%tmp.19);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 43 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_stop" ]
            %steps.3 = local;
            symbol [ steps %steps.3 43 16 21 ];
            %tmp.20 = lgetv %detector.1;
            symbol [ detector %tmp.20 43 24 32 ];
            symbol [ getStepCount %tmp.21 43 33 45 ];
            %tmp.21 = getv function %tmp.20 :getStepCount;
            %tmp.22 = invoke %tmp.20 %tmp.21();
            lputv %steps.3 %tmp.22;
            symbol [ steps %steps.3 43 16 21 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 44 12 ]
            symbol [ Test %tmp.23 44 12 16 ];
            %tmp.23 = getm $.Toybox.Test;
            symbol [ assertEqual %tmp.24 44 17 28 ];
            %tmp.24 = getv function %tmp.23 :assertEqual;
            %tmp.25 = 6;
            %tmp.26 = lgetv %steps.3;
            symbol [ steps %tmp.26 44 32 37 ];
            invoke %tmp.23 %tmp.24(%tmp.25, %tmp.26);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 45 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_stop" ]
            %stepLength.4 = local;
            symbol [ stepLength %stepLength.4 45 16 26 ];
            %tmp.27 = 1.0;
            lputv %stepLength.4 %tmp.27;
            symbol [ stepLength %stepLength.4 45 16 26 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 46 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_stop" ]
            %distance.5 = local;
            symbol [ distance %distance.5 46 16 24 ];
            %tmp.28 = lgetv %steps.3;
            symbol [ steps %tmp.28 46 27 32 ];
            %tmp.29 = lgetv %stepLength.4;
            symbol [ stepLength %tmp.29 46 35 45 ];
            %tmp.30 = mul %tmp.28 %tmp.29;
            lputv %distance.5 %tmp.30;
            symbol [ distance %distance.5 46 16 24 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 47 12 ]
            symbol [ Test %tmp.31 47 12 16 ];
            %tmp.31 = getm $.Toybox.Test;
            symbol [ assertEqual %tmp.32 47 17 28 ];
            %tmp.32 = getv function %tmp.31 :assertEqual;
            %tmp.33 = 6.0;
            %tmp.34 = lgetv %distance.5;
            symbol [ distance %tmp.34 47 34 42 ];
            invoke %tmp.31 %tmp.32(%tmp.33, %tmp.34);
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_39_43_48_8_stop:
        }
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 50; @symbol_functiondef = [_generateNoiseSamples,50,17,38]; @symbol_param<0> = [count,50,39,44]; @symbol_param<1> = [periodMs,50,46,54]; ]
        function _generateNoiseSamples(count, periodMs) {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_56_64_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 51 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_56_64_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_56_64_8_stop" ]
            %samples.1 = local;
            symbol [ samples %samples.1 51 16 23 ];
            %tmp.1 = newa 0;
            lputv %samples.1 %tmp.1;
            symbol [ samples %samples.1 51 16 23 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 52 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_56_64_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_56_64_8_stop" ]
            %timestamp.2 = local;
            symbol [ timestamp %timestamp.2 52 16 25 ];
            %tmp.2 = 0;
            lputv %timestamp.2 %tmp.2;
            symbol [ timestamp %timestamp.2 52 16 25 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 53 12 ]
            for @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_test @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_incr @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_init:
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_begin" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_end" ]
            %i.3 = local;
            symbol [ i %i.3 53 21 22 ];
            %tmp.3 = 0;
            lputv %i.3 %tmp.3;
            symbol [ i %i.3 53 21 22 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_test:
            %tmp.4 = lgetv %i.3;
            symbol [ i %tmp.4 53 28 29 ];
            %tmp.5 = lgetv %count;
            symbol [ count %tmp.5 53 32 37 ];
            %tmp.6 = lt %tmp.4 %tmp.5;
            bf %tmp.6 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_begin:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_47_62_12_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 54 16 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_47_62_12_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_47_62_12_stop" ]
            %noise.4 = local;
            symbol [ noise %noise.4 54 20 25 ];
            symbol [ Math %tmp.7 54 30 34 ];
            %tmp.7 = getm $.Toybox.Math;
            symbol [ rand %tmp.8 54 35 39 ];
            %tmp.8 = getv function %tmp.7 :rand;
            %tmp.9 = invoke %tmp.7 %tmp.8();
            %tmp.10 = 200;
            %tmp.11 = mod %tmp.9 %tmp.10;
            %tmp.12 = 100;
            %tmp.13 = sub %tmp.11 %tmp.12;
            %tmp.14 = 500.0;
            %tmp.15 = div %tmp.13 %tmp.14;
            lputv %noise.4 %tmp.15;
            symbol [ noise %noise.4 54 20 25 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 55 16 ]
            %tmp.16 = lgetv %samples.1;
            symbol [ samples %tmp.16 55 16 23 ];
            symbol [ add %tmp.17 55 24 27 ];
            %tmp.17 = getv function %tmp.16 :add;
            %tmp.18 = newd 4;
            %tmp.20 = const :x;
            symbol [ x %tmp.20 56 21 22 const ];
            %tmp.21 = lgetv %noise.4;
            symbol [ noise %tmp.21 56 26 31 ];
            %tmp.22 = dup %tmp.18;
            %tmp.23 = aputv %tmp.22 %tmp.20 %tmp.21;
            %tmp.25 = const :y;
            symbol [ y %tmp.25 57 21 22 const ];
            %tmp.26 = lgetv %noise.4;
            symbol [ noise %tmp.26 57 27 32 ];
            %tmp.27 = sub 0 %tmp.26;
            %tmp.28 = dup %tmp.23;
            %tmp.29 = aputv %tmp.28 %tmp.25 %tmp.27;
            %tmp.31 = const :z;
            symbol [ z %tmp.31 58 21 22 const ];
            %tmp.32 = 9.8;
            %tmp.33 = lgetv %noise.4;
            symbol [ noise %tmp.33 58 32 37 ];
            %tmp.34 = add %tmp.32 %tmp.33;
            %tmp.35 = dup %tmp.29;
            %tmp.36 = aputv %tmp.35 %tmp.31 %tmp.34;
            %tmp.38 = const :timestamp;
            symbol [ timestamp %tmp.38 59 21 30 const ];
            %tmp.39 = lgetv %timestamp.2;
            symbol [ timestamp %tmp.39 59 34 43 ];
            %tmp.40 = dup %tmp.36;
            %tmp.41 = aputv %tmp.40 %tmp.38 %tmp.39;
            invoke %tmp.16 %tmp.17(%tmp.41);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 61 16 ]
            %tmp.42 = lgetv %timestamp.2;
            symbol [ timestamp %tmp.42 61 16 25 ];
            %tmp.43 = lgetv %periodMs;
            symbol [ periodMs %tmp.43 61 29 37 ];
            %tmp.44 = add %tmp.42 %tmp.43;
            lputv %timestamp.2 %tmp.44;
            symbol [ timestamp %timestamp.2 61 16 25 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_47_62_12_stop:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_incr:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 53 ]
            %tmp.45 = lgetv %i.3;
            symbol [ i %tmp.45 53 39 40 ];
            %tmp.46 = 1;
            %tmp.47 = add %tmp.45 %tmp.46;
            lputv %i.3 %tmp.47;
            symbol [ i %i.3 53 39 40 ];
            goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_test;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_12_62_12_for_end:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 63 12 ]
            %tmp.48 = lgetv %samples.1;
            symbol [ samples %tmp.48 63 19 26 ];
            ret %tmp.48;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_56_64_8_stop:
        }
        [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 66; @symbol_functiondef = [_generateStepWave,66,17,34]; @symbol_param<0> = [stepCount,66,35,44]; @symbol_param<1> = [samplesPerStep,66,46,60]; @symbol_param<2> = [amplitude,66,62,71]; ]
        function _generateStepWave(stepCount, samplesPerStep, amplitude) {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_66_73_83_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 67 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_66_73_83_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_66_73_83_8_stop" ]
            %samples.1 = local;
            symbol [ samples %samples.1 67 16 23 ];
            %tmp.1 = newa 0;
            lputv %samples.1 %tmp.1;
            symbol [ samples %samples.1 67 16 23 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 68 12 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_66_73_83_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_66_73_83_8_stop" ]
            %timestamp.2 = local;
            symbol [ timestamp %timestamp.2 68 16 25 ];
            %tmp.2 = 0;
            lputv %timestamp.2 %tmp.2;
            symbol [ timestamp %timestamp.2 68 16 25 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 69 12 ]
            for @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_test @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_incr @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_init:
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_begin" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_end" ]
            %step.3 = local;
            symbol [ step %step.3 69 21 25 ];
            %tmp.3 = 0;
            lputv %step.3 %tmp.3;
            symbol [ step %step.3 69 21 25 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_test:
            %tmp.4 = lgetv %step.3;
            symbol [ step %tmp.4 69 31 35 ];
            %tmp.5 = lgetv %stepCount;
            symbol [ stepCount %tmp.5 69 38 47 ];
            %tmp.6 = lt %tmp.4 %tmp.5;
            bf %tmp.6 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_begin:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_60_81_12_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 70 16 ]
            for @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_test @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_incr @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_init:
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_begin" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_end" ]
            %i.4 = local;
            symbol [ i %i.4 70 25 26 ];
            %tmp.7 = 0;
            lputv %i.4 %tmp.7;
            symbol [ i %i.4 70 25 26 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_test:
            %tmp.8 = lgetv %i.4;
            symbol [ i %tmp.8 70 32 33 ];
            %tmp.9 = lgetv %samplesPerStep;
            symbol [ samplesPerStep %tmp.9 70 36 50 ];
            %tmp.10 = lt %tmp.8 %tmp.9;
            bf %tmp.10 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_begin:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_60_80_16_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 71 20 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_60_80_16_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_60_80_16_stop" ]
            %phase.5 = local;
            symbol [ phase %phase.5 71 24 29 ];
            %tmp.11 = lgetv %i.4;
            symbol [ i %tmp.11 71 32 33 ];
            %tmp.12 = lgetv %samplesPerStep;
            symbol [ samplesPerStep %tmp.12 71 36 50 ];
            %tmp.13 = div %tmp.11 %tmp.12;
            lputv %phase.5 %tmp.13;
            symbol [ phase %phase.5 71 24 29 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 72 20 ]
            [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_60_80_16_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_60_80_16_stop" ]
            %wave.6 = local;
            symbol [ wave %wave.6 72 24 28 ];
            %tmp.14 = lgetv %amplitude;
            symbol [ amplitude %tmp.14 72 31 40 ];
            symbol [ Math %tmp.15 72 43 47 ];
            %tmp.15 = getm $.Toybox.Math;
            symbol [ sin %tmp.16 72 48 51 ];
            %tmp.16 = getv function %tmp.15 :sin;
            symbol [ Math %tmp.17 72 52 56 ];
            %tmp.17 = getm $.Toybox.Math;
            symbol [ PI %tmp.18 72 57 59 ];
            %tmp.18 = getv %tmp.17 :PI;
            %tmp.19 = lgetv %phase.5;
            symbol [ phase %tmp.19 72 62 67 ];
            %tmp.20 = mul %tmp.18 %tmp.19;
            %tmp.21 = invoke %tmp.15 %tmp.16(%tmp.20);
            %tmp.22 = mul %tmp.14 %tmp.21;
            lputv %wave.6 %tmp.22;
            symbol [ wave %wave.6 72 24 28 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 73 20 ]
            %tmp.23 = lgetv %samples.1;
            symbol [ samples %tmp.23 73 20 27 ];
            symbol [ add %tmp.24 73 28 31 ];
            %tmp.24 = getv function %tmp.23 :add;
            %tmp.25 = newd 4;
            %tmp.27 = const :x;
            symbol [ x %tmp.27 74 25 26 const ];
            %tmp.28 = 0;
            %tmp.29 = dup %tmp.25;
            %tmp.30 = aputv %tmp.29 %tmp.27 %tmp.28;
            %tmp.32 = const :y;
            symbol [ y %tmp.32 75 25 26 const ];
            %tmp.33 = 0;
            %tmp.34 = dup %tmp.30;
            %tmp.35 = aputv %tmp.34 %tmp.32 %tmp.33;
            %tmp.37 = const :z;
            symbol [ z %tmp.37 76 25 26 const ];
            %tmp.38 = 9.8;
            %tmp.39 = lgetv %wave.6;
            symbol [ wave %tmp.39 76 36 40 ];
            %tmp.40 = add %tmp.38 %tmp.39;
            %tmp.41 = dup %tmp.35;
            %tmp.42 = aputv %tmp.41 %tmp.37 %tmp.40;
            %tmp.44 = const :timestamp;
            symbol [ timestamp %tmp.44 77 25 34 const ];
            %tmp.45 = lgetv %timestamp.2;
            symbol [ timestamp %tmp.45 77 38 47 ];
            %tmp.46 = dup %tmp.42;
            %tmp.47 = aputv %tmp.46 %tmp.44 %tmp.45;
            invoke %tmp.23 %tmp.24(%tmp.47);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 79 20 ]
            %tmp.48 = lgetv %timestamp.2;
            symbol [ timestamp %tmp.48 79 20 29 ];
            %tmp.49 = 40;
            %tmp.50 = add %tmp.48 %tmp.49;
            lputv %timestamp.2 %tmp.50;
            symbol [ timestamp %timestamp.2 79 20 29 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_60_80_16_stop:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_incr:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 70 ]
            %tmp.51 = lgetv %i.4;
            symbol [ i %tmp.51 70 52 53 ];
            %tmp.52 = 1;
            %tmp.53 = add %tmp.51 %tmp.52;
            lputv %i.4 %tmp.53;
            symbol [ i %i.4 70 52 53 ];
            goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_test;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_16_80_16_for_end:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_60_81_12_stop:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_incr:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 69 ]
            %tmp.54 = lgetv %step.3;
            symbol [ step %tmp.54 69 49 53 ];
            %tmp.55 = 1;
            %tmp.56 = add %tmp.54 %tmp.55;
            lputv %step.3 %tmp.56;
            symbol [ step %step.3 69 49 53 ];
            goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_test;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_69_12_81_12_for_end:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 82 12 ]
            %tmp.57 = lgetv %samples.1;
            symbol [ samples %tmp.57 82 19 26 ];
            ret %tmp.57;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_66_73_83_8_stop:
        }
    }
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 86; @symbol_functiondef = [getTests,86,13,21]; ]
    function getTests() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_86_24_88_4_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 87 8 ]
        %tmp.1 = newa 1;
        symbol [ StepDetectorTest %tmp.5 87 21 37 ];
        %tmp.5 = getv ? :StepDetectorTest;
        %tmp.2 = newc %tmp.5 ();
        %tmp.6 = dup %tmp.1;
        %tmp.7 = aputv %tmp.6 0 %tmp.2;
        ret %tmp.7;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_86_24_88_4_stop:
    }
}
[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 1; ]
<init> {
}
