[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 1; @symbol_usingdef<0> = [Toybox,1,6,12]; @symbol_usingdef<1> = [Math,1,13,17]; @symbol_usingAlias = [Math,1,21,25]; ]
using Toybox.Math as :Math;
[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 2; @symbol_usingdef<0> = [Toybox,2,6,12]; @symbol_usingdef<1> = [Test,2,13,17]; @symbol_usingAlias = [Test,2,21,25]; ]
using Toybox.Test as :Test;
[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 4; @symbol_usingdef<0> = [RawStep,4,6,13]; ]
using RawStep;
[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 6; @symbol_moduledef = [RawStepTests,6,7,19]; ]
module RawStepTests {
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 6; ]
    <init> {
    }
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 8; test = true; @symbol_functiondef = [testStationaryNoise,8,13,32]; ]
    function testStationaryNoise() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_8_35_13_4_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 9 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_8_35_13_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_8_35_13_4_stop" ]
        %detector.1 = local;
        symbol [ detector %detector.1 9 12 20 ];
        symbol [ RawStep %tmp.3 9 27 34 ];
        %tmp.3 = getm $.RawStep;
        symbol [ StepDetector %tmp.4 9 35 47 ];
        %tmp.4 = getv function ? %tmp.3 :StepDetector;
        %tmp.5 = newd 1;
        %tmp.7 = const :samplePeriodMs;
        symbol [ samplePeriodMs %tmp.7 9 51 65 const ];
        %tmp.8 = 40;
        %tmp.9 = dup %tmp.5;
        %tmp.10 = aputv %tmp.9 %tmp.7 %tmp.8;
        %tmp.1 = newc %tmp.4 (%tmp.10);
        lputv %detector.1 %tmp.1;
        symbol [ detector %detector.1 9 12 20 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 10 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_8_35_13_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_8_35_13_4_stop" ]
        %samples.2 = local;
        symbol [ samples %samples.2 10 12 19 ];
        %tmp.11 = self;
        symbol [ _generateNoiseSamples %tmp.12 10 22 43 ];
        %tmp.12 = getv function %tmp.11 :_generateNoiseSamples;
        %tmp.13 = 400;
        %tmp.14 = 40;
        %tmp.15 = invoke %tmp.11 %tmp.12(%tmp.13, %tmp.14);
        lputv %samples.2 %tmp.15;
        symbol [ samples %samples.2 10 12 19 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 11 8 ]
        %tmp.16 = lgetv %detector.1;
        symbol [ detector %tmp.16 11 8 16 ];
        symbol [ addSamples %tmp.17 11 17 27 ];
        %tmp.17 = getv function %tmp.16 :addSamples;
        %tmp.18 = lgetv %samples.2;
        symbol [ samples %tmp.18 11 28 35 ];
        invoke %tmp.16 %tmp.17(%tmp.18);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 12 8 ]
        symbol [ Test %tmp.19 12 8 12 ];
        %tmp.19 = getm $.Toybox.Test;
        symbol [ assertEqual %tmp.20 12 13 24 ];
        %tmp.20 = getv function %tmp.19 :assertEqual;
        %tmp.21 = 0;
        %tmp.22 = lgetv %detector.1;
        symbol [ detector %tmp.22 12 28 36 ];
        symbol [ getStepCount %tmp.23 12 37 49 ];
        %tmp.23 = getv function %tmp.22 :getStepCount;
        %tmp.24 = invoke %tmp.22 %tmp.23();
        invoke %tmp.19 %tmp.20(%tmp.21, %tmp.24);
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_8_35_13_4_stop:
    }
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 16; test = true; @symbol_functiondef = [testSimpleSteps,16,13,28]; ]
    function testSimpleSteps() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_16_31_21_4_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 17 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_16_31_21_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_16_31_21_4_stop" ]
        %detector.1 = local;
        symbol [ detector %detector.1 17 12 20 ];
        symbol [ RawStep %tmp.3 17 27 34 ];
        %tmp.3 = getm $.RawStep;
        symbol [ StepDetector %tmp.4 17 35 47 ];
        %tmp.4 = getv function ? %tmp.3 :StepDetector;
        %tmp.5 = newd 1;
        %tmp.7 = const :samplePeriodMs;
        symbol [ samplePeriodMs %tmp.7 17 51 65 const ];
        %tmp.8 = 40;
        %tmp.9 = dup %tmp.5;
        %tmp.10 = aputv %tmp.9 %tmp.7 %tmp.8;
        %tmp.1 = newc %tmp.4 (%tmp.10);
        lputv %detector.1 %tmp.1;
        symbol [ detector %detector.1 17 12 20 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 18 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_16_31_21_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_16_31_21_4_stop" ]
        %samples.2 = local;
        symbol [ samples %samples.2 18 12 19 ];
        %tmp.11 = self;
        symbol [ _generateStepWave %tmp.12 18 22 39 ];
        %tmp.12 = getv function %tmp.11 :_generateStepWave;
        %tmp.13 = 10;
        %tmp.14 = 12;
        %tmp.15 = 1.6;
        %tmp.16 = invoke %tmp.11 %tmp.12(%tmp.13, %tmp.14, %tmp.15);
        lputv %samples.2 %tmp.16;
        symbol [ samples %samples.2 18 12 19 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 19 8 ]
        %tmp.17 = lgetv %detector.1;
        symbol [ detector %tmp.17 19 8 16 ];
        symbol [ addSamples %tmp.18 19 17 27 ];
        %tmp.18 = getv function %tmp.17 :addSamples;
        %tmp.19 = lgetv %samples.2;
        symbol [ samples %tmp.19 19 28 35 ];
        invoke %tmp.17 %tmp.18(%tmp.19);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 20 8 ]
        symbol [ Test %tmp.20 20 8 12 ];
        %tmp.20 = getm $.Toybox.Test;
        symbol [ assertEqual %tmp.21 20 13 24 ];
        %tmp.21 = getv function %tmp.20 :assertEqual;
        %tmp.22 = 10;
        %tmp.23 = lgetv %detector.1;
        symbol [ detector %tmp.23 20 29 37 ];
        symbol [ getStepCount %tmp.24 20 38 50 ];
        %tmp.24 = getv function %tmp.23 :getStepCount;
        %tmp.25 = invoke %tmp.23 %tmp.24();
        invoke %tmp.20 %tmp.21(%tmp.22, %tmp.25);
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_16_31_21_4_stop:
    }
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 24; test = true; @symbol_functiondef = [testRefractoryPreventsDoubleCount,24,13,46]; ]
    function testRefractoryPreventsDoubleCount() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_24_49_35_4_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 25 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_24_49_35_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_24_49_35_4_stop" ]
        %detector.1 = local;
        symbol [ detector %detector.1 25 12 20 ];
        symbol [ RawStep %tmp.3 25 27 34 ];
        %tmp.3 = getm $.RawStep;
        symbol [ StepDetector %tmp.4 25 35 47 ];
        %tmp.4 = getv function ? %tmp.3 :StepDetector;
        %tmp.5 = newd 1;
        %tmp.7 = const :samplePeriodMs;
        symbol [ samplePeriodMs %tmp.7 25 51 65 const ];
        %tmp.8 = 40;
        %tmp.9 = dup %tmp.5;
        %tmp.10 = aputv %tmp.9 %tmp.7 %tmp.8;
        %tmp.1 = newc %tmp.4 (%tmp.10);
        lputv %detector.1 %tmp.1;
        symbol [ detector %detector.1 25 12 20 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 26 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_24_49_35_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_24_49_35_4_stop" ]
        %samples.2 = local;
        symbol [ samples %samples.2 26 12 19 ];
        %tmp.11 = newa 0;
        lputv %samples.2 %tmp.11;
        symbol [ samples %samples.2 26 12 19 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 27 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_24_49_35_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_24_49_35_4_stop" ]
        %timestamp.3 = local;
        symbol [ timestamp %timestamp.3 27 12 21 ];
        %tmp.12 = 0;
        lputv %timestamp.3 %tmp.12;
        symbol [ timestamp %timestamp.3 27 12 21 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 28 8 ]
        for @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_test @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_incr @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_init:
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_begin" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_end" ]
        %i.4 = local;
        symbol [ i %i.4 28 17 18 ];
        %tmp.13 = 0;
        lputv %i.4 %tmp.13;
        symbol [ i %i.4 28 17 18 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_test:
        %tmp.14 = lgetv %i.4;
        symbol [ i %tmp.14 28 24 25 ];
        %tmp.15 = 2;
        %tmp.16 = lt %tmp.14 %tmp.15;
        bf %tmp.16 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_begin:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_39_32_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 29 12 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_39_32_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_39_32_8_stop" ]
        %magnitude.5 = local;
        symbol [ magnitude %magnitude.5 29 16 25 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_begin:
        %tmp.17 = lgetv %i.4;
        symbol [ i %tmp.17 29 29 30 ];
        %tmp.18 = 0;
        %tmp.19 = eq %tmp.17 %tmp.18;
        bf %tmp.19 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_else_false;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_true:
        %tmp.20 = 2.5;
        push %tmp.20;
        goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_else_false:
        %tmp.21 = 2.2;
        push %tmp.21;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_end:
        %tmp.22 = phi [%tmp.19 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_begin] [%tmp.20 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_true] [%tmp.21 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_else_false] [%tmp.22 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_29_28_29_45_end];
        lputv %magnitude.5 %tmp.22;
        symbol [ magnitude %magnitude.5 29 16 25 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 30 12 ]
        %tmp.23 = lgetv %samples.2;
        symbol [ samples %tmp.23 30 12 19 ];
        symbol [ add %tmp.24 30 20 23 ];
        %tmp.24 = getv function %tmp.23 :add;
        %tmp.25 = newd 4;
        %tmp.27 = const :x;
        symbol [ x %tmp.27 30 27 28 const ];
        %tmp.28 = 0;
        %tmp.29 = dup %tmp.25;
        %tmp.30 = aputv %tmp.29 %tmp.27 %tmp.28;
        %tmp.32 = const :y;
        symbol [ y %tmp.32 30 36 37 const ];
        %tmp.33 = 0;
        %tmp.34 = dup %tmp.30;
        %tmp.35 = aputv %tmp.34 %tmp.32 %tmp.33;
        %tmp.37 = const :z;
        symbol [ z %tmp.37 30 45 46 const ];
        %tmp.38 = 9.8;
        %tmp.39 = lgetv %magnitude.5;
        symbol [ magnitude %tmp.39 30 56 65 ];
        %tmp.40 = add %tmp.38 %tmp.39;
        %tmp.41 = dup %tmp.35;
        %tmp.42 = aputv %tmp.41 %tmp.37 %tmp.40;
        %tmp.44 = const :timestamp;
        symbol [ timestamp %tmp.44 30 68 77 const ];
        %tmp.45 = lgetv %timestamp.3;
        symbol [ timestamp %tmp.45 30 81 90 ];
        %tmp.46 = dup %tmp.42;
        %tmp.47 = aputv %tmp.46 %tmp.44 %tmp.45;
        invoke %tmp.23 %tmp.24(%tmp.47);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 31 12 ]
        %tmp.48 = lgetv %timestamp.3;
        symbol [ timestamp %tmp.48 31 12 21 ];
        %tmp.49 = 60;
        %tmp.50 = add %tmp.48 %tmp.49;
        lputv %timestamp.3 %tmp.50;
        symbol [ timestamp %timestamp.3 31 12 21 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_39_32_8_stop:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_incr:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 28 ]
        %tmp.51 = lgetv %i.4;
        symbol [ i %tmp.51 28 31 32 ];
        %tmp.52 = 1;
        %tmp.53 = add %tmp.51 %tmp.52;
        lputv %i.4 %tmp.53;
        symbol [ i %i.4 28 31 32 ];
        goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_test;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_28_8_32_8_for_end:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 33 8 ]
        %tmp.54 = lgetv %detector.1;
        symbol [ detector %tmp.54 33 8 16 ];
        symbol [ addSamples %tmp.55 33 17 27 ];
        %tmp.55 = getv function %tmp.54 :addSamples;
        %tmp.56 = lgetv %samples.2;
        symbol [ samples %tmp.56 33 28 35 ];
        invoke %tmp.54 %tmp.55(%tmp.56);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 34 8 ]
        symbol [ Test %tmp.57 34 8 12 ];
        %tmp.57 = getm $.Toybox.Test;
        symbol [ assertEqual %tmp.58 34 13 24 ];
        %tmp.58 = getv function %tmp.57 :assertEqual;
        %tmp.59 = 1;
        %tmp.60 = lgetv %detector.1;
        symbol [ detector %tmp.60 34 28 36 ];
        symbol [ getStepCount %tmp.61 34 37 49 ];
        %tmp.61 = getv function %tmp.60 :getStepCount;
        %tmp.62 = invoke %tmp.60 %tmp.61();
        invoke %tmp.57 %tmp.58(%tmp.59, %tmp.62);
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_24_49_35_4_stop:
    }
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 38; test = true; @symbol_functiondef = [testDistanceComputation,38,13,36]; ]
    function testDistanceComputation() {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 39 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_stop" ]
        %detector.1 = local;
        symbol [ detector %detector.1 39 12 20 ];
        symbol [ RawStep %tmp.3 39 27 34 ];
        %tmp.3 = getm $.RawStep;
        symbol [ StepDetector %tmp.4 39 35 47 ];
        %tmp.4 = getv function ? %tmp.3 :StepDetector;
        %tmp.5 = newd 1;
        %tmp.7 = const :samplePeriodMs;
        symbol [ samplePeriodMs %tmp.7 39 51 65 const ];
        %tmp.8 = 40;
        %tmp.9 = dup %tmp.5;
        %tmp.10 = aputv %tmp.9 %tmp.7 %tmp.8;
        %tmp.1 = newc %tmp.4 (%tmp.10);
        lputv %detector.1 %tmp.1;
        symbol [ detector %detector.1 39 12 20 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 40 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_stop" ]
        %samples.2 = local;
        symbol [ samples %samples.2 40 12 19 ];
        %tmp.11 = self;
        symbol [ _generateStepWave %tmp.12 40 22 39 ];
        %tmp.12 = getv function %tmp.11 :_generateStepWave;
        %tmp.13 = 6;
        %tmp.14 = 12;
        %tmp.15 = 1.8;
        %tmp.16 = invoke %tmp.11 %tmp.12(%tmp.13, %tmp.14, %tmp.15);
        lputv %samples.2 %tmp.16;
        symbol [ samples %samples.2 40 12 19 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 41 8 ]
        %tmp.17 = lgetv %detector.1;
        symbol [ detector %tmp.17 41 8 16 ];
        symbol [ addSamples %tmp.18 41 17 27 ];
        %tmp.18 = getv function %tmp.17 :addSamples;
        %tmp.19 = lgetv %samples.2;
        symbol [ samples %tmp.19 41 28 35 ];
        invoke %tmp.17 %tmp.18(%tmp.19);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 42 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_stop" ]
        %steps.3 = local;
        symbol [ steps %steps.3 42 12 17 ];
        %tmp.20 = lgetv %detector.1;
        symbol [ detector %tmp.20 42 20 28 ];
        symbol [ getStepCount %tmp.21 42 29 41 ];
        %tmp.21 = getv function %tmp.20 :getStepCount;
        %tmp.22 = invoke %tmp.20 %tmp.21();
        lputv %steps.3 %tmp.22;
        symbol [ steps %steps.3 42 12 17 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 43 8 ]
        symbol [ Test %tmp.23 43 8 12 ];
        %tmp.23 = getm $.Toybox.Test;
        symbol [ assertEqual %tmp.24 43 13 24 ];
        %tmp.24 = getv function %tmp.23 :assertEqual;
        %tmp.25 = 6;
        %tmp.26 = lgetv %steps.3;
        symbol [ steps %tmp.26 43 28 33 ];
        invoke %tmp.23 %tmp.24(%tmp.25, %tmp.26);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 44 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_stop" ]
        %stepLength.4 = local;
        symbol [ stepLength %stepLength.4 44 12 22 ];
        %tmp.27 = 1.0;
        lputv %stepLength.4 %tmp.27;
        symbol [ stepLength %stepLength.4 44 12 22 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 45 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_stop" ]
        %distance.5 = local;
        symbol [ distance %distance.5 45 12 20 ];
        %tmp.28 = lgetv %steps.3;
        symbol [ steps %tmp.28 45 23 28 ];
        %tmp.29 = lgetv %stepLength.4;
        symbol [ stepLength %tmp.29 45 31 41 ];
        %tmp.30 = mul %tmp.28 %tmp.29;
        lputv %distance.5 %tmp.30;
        symbol [ distance %distance.5 45 12 20 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 46 8 ]
        symbol [ Test %tmp.31 46 8 12 ];
        %tmp.31 = getm $.Toybox.Test;
        symbol [ assertEqual %tmp.32 46 13 24 ];
        %tmp.32 = getv function %tmp.31 :assertEqual;
        %tmp.33 = 6.0;
        %tmp.34 = lgetv %distance.5;
        symbol [ distance %tmp.34 46 30 38 ];
        invoke %tmp.31 %tmp.32(%tmp.33, %tmp.34);
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_38_39_47_4_stop:
    }
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 50; test = true; @symbol_functiondef = [_generateNoiseSamples,50,13,34]; @symbol_param<0> = [count,50,35,40]; @symbol_param<1> = [periodMs,50,42,50]; ]
    function _generateNoiseSamples(count, periodMs) {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_52_64_4_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 51 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_52_64_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_52_64_4_stop" ]
        %samples.1 = local;
        symbol [ samples %samples.1 51 12 19 ];
        %tmp.1 = newa 0;
        lputv %samples.1 %tmp.1;
        symbol [ samples %samples.1 51 12 19 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 52 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_52_64_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_52_64_4_stop" ]
        %timestamp.2 = local;
        symbol [ timestamp %timestamp.2 52 12 21 ];
        %tmp.2 = 0;
        lputv %timestamp.2 %tmp.2;
        symbol [ timestamp %timestamp.2 52 12 21 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 53 8 ]
        for @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_test @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_incr @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_init:
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_begin" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_end" ]
        %i.3 = local;
        symbol [ i %i.3 53 17 18 ];
        %tmp.3 = 0;
        lputv %i.3 %tmp.3;
        symbol [ i %i.3 53 17 18 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_test:
        %tmp.4 = lgetv %i.3;
        symbol [ i %tmp.4 53 24 25 ];
        %tmp.5 = lgetv %count;
        symbol [ count %tmp.5 53 28 33 ];
        %tmp.6 = lt %tmp.4 %tmp.5;
        bf %tmp.6 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_begin:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_43_62_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 54 12 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_43_62_8_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_43_62_8_stop" ]
        %noise.4 = local;
        symbol [ noise %noise.4 54 16 21 ];
        symbol [ Math %tmp.7 54 26 30 ];
        %tmp.7 = getm $.Toybox.Math;
        symbol [ rand %tmp.8 54 31 35 ];
        %tmp.8 = getv function %tmp.7 :rand;
        %tmp.9 = invoke %tmp.7 %tmp.8();
        %tmp.10 = 200;
        %tmp.11 = mod %tmp.9 %tmp.10;
        %tmp.12 = 100;
        %tmp.13 = sub %tmp.11 %tmp.12;
        %tmp.14 = 500.0;
        %tmp.15 = div %tmp.13 %tmp.14;
        lputv %noise.4 %tmp.15;
        symbol [ noise %noise.4 54 16 21 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 55 12 ]
        %tmp.16 = lgetv %samples.1;
        symbol [ samples %tmp.16 55 12 19 ];
        symbol [ add %tmp.17 55 20 23 ];
        %tmp.17 = getv function %tmp.16 :add;
        %tmp.18 = newd 4;
        %tmp.20 = const :x;
        symbol [ x %tmp.20 56 17 18 const ];
        %tmp.21 = lgetv %noise.4;
        symbol [ noise %tmp.21 56 22 27 ];
        %tmp.22 = dup %tmp.18;
        %tmp.23 = aputv %tmp.22 %tmp.20 %tmp.21;
        %tmp.25 = const :y;
        symbol [ y %tmp.25 57 17 18 const ];
        %tmp.26 = lgetv %noise.4;
        symbol [ noise %tmp.26 57 23 28 ];
        %tmp.27 = sub 0 %tmp.26;
        %tmp.28 = dup %tmp.23;
        %tmp.29 = aputv %tmp.28 %tmp.25 %tmp.27;
        %tmp.31 = const :z;
        symbol [ z %tmp.31 58 17 18 const ];
        %tmp.32 = 9.8;
        %tmp.33 = lgetv %noise.4;
        symbol [ noise %tmp.33 58 28 33 ];
        %tmp.34 = add %tmp.32 %tmp.33;
        %tmp.35 = dup %tmp.29;
        %tmp.36 = aputv %tmp.35 %tmp.31 %tmp.34;
        %tmp.38 = const :timestamp;
        symbol [ timestamp %tmp.38 59 17 26 const ];
        %tmp.39 = lgetv %timestamp.2;
        symbol [ timestamp %tmp.39 59 30 39 ];
        %tmp.40 = dup %tmp.36;
        %tmp.41 = aputv %tmp.40 %tmp.38 %tmp.39;
        invoke %tmp.16 %tmp.17(%tmp.41);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 61 12 ]
        %tmp.42 = lgetv %timestamp.2;
        symbol [ timestamp %tmp.42 61 12 21 ];
        %tmp.43 = lgetv %periodMs;
        symbol [ periodMs %tmp.43 61 25 33 ];
        %tmp.44 = add %tmp.42 %tmp.43;
        lputv %timestamp.2 %tmp.44;
        symbol [ timestamp %timestamp.2 61 12 21 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_43_62_8_stop:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_incr:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 53 ]
        %tmp.45 = lgetv %i.3;
        symbol [ i %tmp.45 53 35 36 ];
        %tmp.46 = 1;
        %tmp.47 = add %tmp.45 %tmp.46;
        lputv %i.3 %tmp.47;
        symbol [ i %i.3 53 35 36 ];
        goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_test;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_53_8_62_8_for_end:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 63 8 ]
        %tmp.48 = lgetv %samples.1;
        symbol [ samples %tmp.48 63 15 22 ];
        ret %tmp.48;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_50_52_64_4_stop:
    }
    [ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 67; test = true; @symbol_functiondef = [_generateStepWave,67,13,30]; @symbol_param<0> = [stepCount,67,31,40]; @symbol_param<1> = [samplesPerStep,67,42,56]; @symbol_param<2> = [amplitude,67,58,67]; ]
    function _generateStepWave(stepCount, samplesPerStep, amplitude) {
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_67_69_84_4_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 68 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_67_69_84_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_67_69_84_4_stop" ]
        %samples.1 = local;
        symbol [ samples %samples.1 68 12 19 ];
        %tmp.1 = newa 0;
        lputv %samples.1 %tmp.1;
        symbol [ samples %samples.1 68 12 19 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 69 8 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_67_69_84_4_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_67_69_84_4_stop" ]
        %timestamp.2 = local;
        symbol [ timestamp %timestamp.2 69 12 21 ];
        %tmp.2 = 0;
        lputv %timestamp.2 %tmp.2;
        symbol [ timestamp %timestamp.2 69 12 21 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 70 8 ]
        for @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_test @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_incr @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_init:
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_begin" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_end" ]
        %step.3 = local;
        symbol [ step %step.3 70 17 21 ];
        %tmp.3 = 0;
        lputv %step.3 %tmp.3;
        symbol [ step %step.3 70 17 21 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_test:
        %tmp.4 = lgetv %step.3;
        symbol [ step %tmp.4 70 27 31 ];
        %tmp.5 = lgetv %stepCount;
        symbol [ stepCount %tmp.5 70 34 43 ];
        %tmp.6 = lt %tmp.4 %tmp.5;
        bf %tmp.6 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_begin:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_56_82_8_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 71 12 ]
        for @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_test @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_incr @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_init:
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_begin" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_end" ]
        %i.4 = local;
        symbol [ i %i.4 71 21 22 ];
        %tmp.7 = 0;
        lputv %i.4 %tmp.7;
        symbol [ i %i.4 71 21 22 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_test:
        %tmp.8 = lgetv %i.4;
        symbol [ i %tmp.8 71 28 29 ];
        %tmp.9 = lgetv %samplesPerStep;
        symbol [ samplesPerStep %tmp.9 71 32 46 ];
        %tmp.10 = lt %tmp.8 %tmp.9;
        bf %tmp.10 @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_end;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_begin:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_56_81_12_start:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 72 16 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_56_81_12_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_56_81_12_stop" ]
        %phase.5 = local;
        symbol [ phase %phase.5 72 20 25 ];
        %tmp.11 = lgetv %i.4;
        symbol [ i %tmp.11 72 28 29 ];
        %tmp.12 = lgetv %samplesPerStep;
        symbol [ samplesPerStep %tmp.12 72 32 46 ];
        %tmp.13 = div %tmp.11 %tmp.12;
        lputv %phase.5 %tmp.13;
        symbol [ phase %phase.5 72 20 25 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 73 16 ]
        [ "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_56_81_12_start" "_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_56_81_12_stop" ]
        %wave.6 = local;
        symbol [ wave %wave.6 73 20 24 ];
        %tmp.14 = lgetv %amplitude;
        symbol [ amplitude %tmp.14 73 27 36 ];
        symbol [ Math %tmp.15 73 39 43 ];
        %tmp.15 = getm $.Toybox.Math;
        symbol [ sin %tmp.16 73 44 47 ];
        %tmp.16 = getv function %tmp.15 :sin;
        symbol [ Math %tmp.17 73 48 52 ];
        %tmp.17 = getm $.Toybox.Math;
        symbol [ PI %tmp.18 73 53 55 ];
        %tmp.18 = getv %tmp.17 :PI;
        %tmp.19 = lgetv %phase.5;
        symbol [ phase %tmp.19 73 58 63 ];
        %tmp.20 = mul %tmp.18 %tmp.19;
        %tmp.21 = invoke %tmp.15 %tmp.16(%tmp.20);
        %tmp.22 = mul %tmp.14 %tmp.21;
        lputv %wave.6 %tmp.22;
        symbol [ wave %wave.6 73 20 24 ];
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 74 16 ]
        %tmp.23 = lgetv %samples.1;
        symbol [ samples %tmp.23 74 16 23 ];
        symbol [ add %tmp.24 74 24 27 ];
        %tmp.24 = getv function %tmp.23 :add;
        %tmp.25 = newd 4;
        %tmp.27 = const :x;
        symbol [ x %tmp.27 75 21 22 const ];
        %tmp.28 = 0;
        %tmp.29 = dup %tmp.25;
        %tmp.30 = aputv %tmp.29 %tmp.27 %tmp.28;
        %tmp.32 = const :y;
        symbol [ y %tmp.32 76 21 22 const ];
        %tmp.33 = 0;
        %tmp.34 = dup %tmp.30;
        %tmp.35 = aputv %tmp.34 %tmp.32 %tmp.33;
        %tmp.37 = const :z;
        symbol [ z %tmp.37 77 21 22 const ];
        %tmp.38 = 9.8;
        %tmp.39 = lgetv %wave.6;
        symbol [ wave %tmp.39 77 32 36 ];
        %tmp.40 = add %tmp.38 %tmp.39;
        %tmp.41 = dup %tmp.35;
        %tmp.42 = aputv %tmp.41 %tmp.37 %tmp.40;
        %tmp.44 = const :timestamp;
        symbol [ timestamp %tmp.44 78 21 30 const ];
        %tmp.45 = lgetv %timestamp.2;
        symbol [ timestamp %tmp.45 78 34 43 ];
        %tmp.46 = dup %tmp.42;
        %tmp.47 = aputv %tmp.46 %tmp.44 %tmp.45;
        invoke %tmp.23 %tmp.24(%tmp.47);
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 80 16 ]
        %tmp.48 = lgetv %timestamp.2;
        symbol [ timestamp %tmp.48 80 16 25 ];
        %tmp.49 = 40;
        %tmp.50 = add %tmp.48 %tmp.49;
        lputv %timestamp.2 %tmp.50;
        symbol [ timestamp %timestamp.2 80 16 25 ];
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_56_81_12_stop:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_incr:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 71 ]
        %tmp.51 = lgetv %i.4;
        symbol [ i %tmp.51 71 48 49 ];
        %tmp.52 = 1;
        %tmp.53 = add %tmp.51 %tmp.52;
        lputv %i.4 %tmp.53;
        symbol [ i %i.4 71 48 49 ];
        goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_test;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_71_12_81_12_for_end:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_56_82_8_stop:
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_incr:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 70 ]
        %tmp.54 = lgetv %step.3;
        symbol [ step %tmp.54 70 45 49 ];
        %tmp.55 = 1;
        %tmp.56 = add %tmp.54 %tmp.55;
        lputv %step.3 %tmp.56;
        symbol [ step %step.3 70 45 49 ];
        goto @_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_test;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_70_8_82_8_for_end:
[ "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc" 83 8 ]
        %tmp.57 = lgetv %samples.1;
        symbol [ samples %tmp.57 83 15 22 ];
        ret %tmp.57;
_Users_oliverkoeth_work_vert_fairy_tests_test_step_detector_mc_67_69_84_4_stop:
    }
}
[ @file = "/Users/oliverkoeth/work/vert-fairy/tests/test_step_detector.mc"; @line = 1; ]
<init> {
}
